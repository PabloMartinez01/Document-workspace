<div class="rounded-lg shadow-md bg-white max-sm:text-sm p-4 text-gray-900">

  <div class="flex justify-between items-start">
    <span class="font-bold">Your folders</span>

    <mat-icon (click)="toggleGrid()" class="!text-gray-900 cursor-pointer">
      {{ grid ? 'view_list' : 'view_module' }}
    </mat-icon>

  </div>

  <div [ngClass]="grid ? 'grid' : 'flex flex-col'" class=" gap-2 mt-3" style="grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));">
    @for (subfolder of folder.folders; track subfolder.id) {

      <div [routerLink]="['/folder', subfolder.id]" class="bg-gray-100 text-sm rounded-lg max-sm:ps-3  ps-6 p-3 pe-2 whitespace-nowrap
      cursor-pointer max-sm:text-sm hover:bg-indigo-100 transition-all ease duration-150 flex items-center gap-3">

        <i class="fas fa-folder text-amber-400"></i>
        <span class="flex-grow overflow-hidden">{{ subfolder.name }}</span>

        <button mat-icon-button [matMenuTriggerFor]="folderMenu" (click)="$event.stopPropagation()">
          <mat-icon>more_vert</mat-icon>
        </button>

        <mat-menu #folderMenu="matMenu" class="!shadow-lg">
          <div (click)="$event.stopPropagation()" >
            <button mat-menu-item class="!text-red-500">
              <i class="fas fa-remove me-2"></i>
              <span>Delete</span>
            </button>

          </div>
        </mat-menu>
      </div>


    } @empty {
      <div class="py-12 text-center text-gray-700 flex flex-col items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-10">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776" />
        </svg>

        There are no folders or none match your search
      </div>
    }
  </div>



</div>
